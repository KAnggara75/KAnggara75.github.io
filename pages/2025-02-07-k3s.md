---
title: How to Install K3s in Ubuntu
subtitle: This guide shows how to install the Helm CLI.
tags: [Kubernetes, cluster, linux, DevOps, k8s, k3s]
source: https://docs.k3s.io/installation
author: Kelvin Anggara
---

# Install K3s

Proxmox VE is based on Debian. This is why the install disk images (ISO files) provided by Proxmox include a complete Debian system as well as all necessary Proxmox VE packages.

## Step 1: Update Your System

```bash
sudo apt update
sudo apt full-upgrade -y
```

## Step 2: Install k3s kubernetes on Ubuntu 24.04

- Default Config

```bash
curl -sfL https://get.k3s.io | sh -s
```

- with docker and disable some default feature

```bash
curl -fsSL https://get.docker.com | sh
curl -sfL https://get.k3s.io | sh -s - --disable traefik --disable servicelb --docker
```

Checking k3s version.

```bash
k3s --version
```

Confirm if the service is running. It should be started automatically.

```bash
systemctl status k3s.service
```

## Step 3: Manage your k3s kubernetes using kubectl

Create local directory for kubeconfig file storage.

Copy generated configuration file into `~/.kube/config` file.

```bash
mkdir -p ~/.kube
sudo cp /etc/rancher/k3s/k3s.yaml ~/.kube/config
sudo chown $USER:$USER  ~/.kube/config
echo 'export KUBECONFIG=~/.kube/config'|tee -a ~/.zshrc
source ~/.zshrc
```

Test cluster connection using `kubectl` command.

```bash
kubectl get nodes
```

## Step 4: Add extra nodes into your k3s kubernetes

Print out the value of **K3S_TOKEN** is stored on your server node.

```bash
sudo cat /var/lib/rancher/k3s/server/node-token
```

Get your server IP address.

```bash
ip ad
```

## Step 5: Install applications on k3s

```bash
vim deploy-nginx.yaml
```

```bash
apiVersion: apps/v1
kind: Deployment
metadata:
  name: nginx-deployment
spec:
  replicas: 1
  selector:
    matchLabels:
      app: nginx
  template:
    metadata:
      labels:
        app: nginx
    spec:
      containers:
      - name: nginx
        image: nginx:latest
        ports:
        - containerPort: 80
```

Deploy the application in kubernetes using the `kubectl apply` command.

```bash
kubectl apply -f deploy-nginx.yaml
```

### Create a service exposed on NodePort.

```bash
vim nginx-service.yaml
```

```bash
apiVersion: v1
kind: Service
metadata:
  name: nginx-service
spec:
  type: NodePort
  selector:
    app: nginx
  ports:
  - protocol: TCP
    port: 80
    targetPort: 80
```

```bash
kubectl apply -f nginx-service.yaml
```
